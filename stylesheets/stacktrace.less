// The ui-variables file is provided by base themes provided by Atom.
//
// See https://github.com/atom/atom-dark-ui/blob/master/stylesheets/ui-variables.less
// for a full listing of what's available.
@import "ui-variables";
@import "syntax-variables";

@stackframe-background: mix(@background-color-info, @syntax-background-color, 40%);
@stackframe-gutter-background: mix(@background-color-info, @syntax-gutter-background-color, 40%);

.stacktrace {
  &.enter-dialog .editor {
    height: 300px;
    max-height: 300px;
  }

  .frame .panel-heading {
    font-size: 130%;

    .source-location:hover {
      cursor: pointer;
      text-decoration: underline;
    }
  }

  .frame {
    margin-bottom: 10px;

    .icon-fold, .icon-unfold {
      cursor: pointer;
    }

    .icon-unfold { display: none; }

    &.minimized {
      .icon-unfold { display: inline-block; }
      .icon-fold { display: none; }
    }

    .editor {
      .editor-contents {
        cursor: pointer;
      }
      height: 175px;
      max-height: 175px;
    }
  }

  &.navigation {
    .trace-name {
      margin-right: 30px;

      h2 {
        margin: 2px 15px 0 5px;
        font-weight: bold;
        cursor: pointer;
      }
      span.icon-x {
        font-size: 1.5em;
        cursor: pointer;
      }
    }

    .current-frame {
      span.icon-code {
        margin: 0;
      }

      &.unfocused {
        color: @text-color-subtle;

        span.function {
          padding: 1px 3px;
          font-weight: bold;

          &:hover {
            cursor: pointer;
            text-decoration: underline;
          }
        }
      }
    }
  }

}

.editor {
  .line.line-stackframe, .line.line-stackframe.cursor-line {
    background: @stackframe-background;
  }

  // Work around some selector precedence issues.
  &.is-focused .line.line-stackframe, &.is-focused .line.line-stackframe.cursor-line {
    background: @stackframe-background;
  }

  .gutter .gutter-stackframe {
    background: @stackframe-gutter-background;
  }
}
